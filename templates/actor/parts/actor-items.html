<div class="header-container">
  <header class="items-main">{{localize "FU.Weapons"}}</header>
  <header class="items-main left-hand slot-style rollable align-right auto-shrink" data-roll-type="item-slot">
    {{#each items as |item id|}}
      {{#if (and item.system.isEquipped.value (eq item.system.isEquipped.slot "mainHand"))}}
        <div class="equipped-item">
          <i class="fas fa-sword"></i>
          {{item.name}}
        </div>
      {{/if}}
    {{/each}}
  </header>

  <!-- This will accept right click off-hand -->
  <header class="items-main right-hand slot-style rollable align-left auto-shrink" data-roll-type="item-slot">
    {{#each items as |item id|}}
      {{#if (and item.system.isEquipped.value (eq item.system.isEquipped.slot "offHand"))}}
        <div class="equipped-item">
          <i class="fa fa-shield" aria-hidden="true"></i> <!-- Off-hand icon -->
          {{item.name}}
        </div>
      {{/if}}
    {{/each}}
  </header>

  <header class="items-main zennit grid grid-3col">
    <i class="fa-solid fa-coin icon"></i>
    <input type="text" name="system.resources.zenit.value" value="{{system.resources.zenit.value}}" data-dtype="Number" class="grid-span-2" />
  </header>
</div>

<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">{{localize "FU.Name"}}</div>
    <div class="item-attack">{{localize "FU.Attack"}}</div>
    <div class="item-damage">{{localize "FU.Damage"}}</div>
    <div class="item-equipped">{{localize "FU.EquipStatus"}}</div>
    <div class="item-controls">
      <a
        class="item-control item-create"
        data-tooltip="{{localize "FU.WeaponCreate"}}"
        data-type="weapon"
        ><i class="fas fa-plus"></i>{{localize "FU.Add"}}</a
      >
    </div>
  </li>
  {{#each weapons as |item id|}}
  <li class="item" data-item-id="{{item._id}}">
    <div class="flexrow">
      <div class="item-name click-item individual-trapping-and-description">
        <div class="item-image">
          <a class="rollable" data-roll-type="item">
            <div class="item-image-wrap">
              <img
                src="{{item.img}}"
                data-tooltip="{{item.name}}"
                class="item-image-res"
              />
            </div>
          </a>
        </div>
        <h4>
          {{item.name}} {{#if item.isMartial}}
          <span class="is-martial">✦</span>
          {{/if}}
        </h4>
      </div>
      <div class="item-attack">{{item.attackString}}</div>
      <div class="item-damage">{{item.damageString}}</div>
      <div class="item-equipped">
        <a
          class="item-control item-equip"
          {{#if item.system.isEquipped.value}}
          data-tooltip="{{localize "FU.UnequipItem"}}"
          {{else}}
          data-tooltip="{{localize "FU.EquipItem"}}"
          {{/if}}
          data-slot="{{item.system.isEquipped.slot}}"
        >
          {{#if item.system.isEquipped.value}}
            {{#if (eq item.system.isEquipped.slot "mainHand")}}
            <i class="fas fa-sword"></i>
            {{else if (eq item.system.isEquipped.slot "offHand")}}
            <i class="fa fa-shield" aria-hidden="true"></i>
            {{else}}
            <i class="fas fa-toolbox"></i>
            {{/if}}
          {{else}}
          <i class="far fa-toolbox"></i>
          {{/if}}
        </a>
      </div>

      <div class="item-controls">
        {{#if (eq actor.type "npc")}}
        <a class="item-control item-behavior"
          {{#if item.system.isBehavior.value}}
          data-tooltip="{{localize 'FU.BehaviorRemove'}}"aria-describedby="tooltip"
          {{else}}
            data-tooltip="{{localize 'FU.BehaviorAdd'}}"aria-describedby="tooltip"
          {{/if}}
        >
          {{#if item.system.isBehavior.value}}
          <i class="fa-solid fa-door-closed"></i>
          {{else}}
          <i class="fa-solid fa-door-open"></i>
          {{/if}}
        </a>
        {{/if}}
        
        <!-- actor-items.html -->
        <a class="item-control item-favored"
          {{#if item.system.isFavored.value}}
            data-tooltip="{{localize 'FU.Unfavorite'}}"
          {{else}}
            data-tooltip="{{localize 'FU.Favorite'}}"
          {{/if}}
        >
          {{#if item.system.isFavored.value}}
            <i class="fas fa-star"></i>
          {{else}}
            <i class="far fa-star"></i>
          {{/if}}
        </a>

        <a class="item-control item-edit" data-tooltip="Edit class">
          <i class="fas fa-edit"></i>
        </a>
        <a class="item-control item-delete" data-tooltip="Delete class">
          <i class="fas fa-trash"></i>
        </a>
      </div>      
    </div>
    <div class="individual-description">{{ item.quality }}</div>
  </li>
{{/each}}
</ol>

<header class="items-main">{{localize "FU.Shields"}}</header>
<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">{{localize "FU.Name"}}</div>
    <div class="item-def">{{localize "FU.DefenseAbbr"}}</div>
    <div class="item-mdef">{{localize "FU.MagicDefenseAbbr"}}</div>
    <div class="item-init">{{localize "FU.InitiativeAbbr"}}</div>
    <div class="item-equipped">{{localize "FU.EquipStatus"}}</div>
    <div class="item-controls">
      <a class="item-control item-create" data-tooltip="{{localize 'FU.FavoriteCreate'}}" data-type="shield"
        ><i class="fas fa-plus"></i>{{localize "FU.Add"}}</a
      >
    </div>
  </li>
  {{#each shields as |item id|}}
  <li class="item" data-item-id="{{item._id}}">
    <div class="flexrow">
      <div class="item-name">
        <div class="item-image">
          <a class="rollable" data-roll-type="item">
            <div class="item-image-wrap">
              <img
                src="{{item.img}}"
                data-tooltip="{{item.name}}"
                class="item-image-res"
              />
            </div>
          </a>
        </div>
        <h4>
          {{item.name}} {{#if item.isMartial}}
          <span class="is-martial">✦</span>
          {{/if}}
        </h4>
      </div>
      <div class="item-def">{{item.def}}</div>
      <div class="item-mdef">{{item.mdef}}</div>
      <div class="item-init">{{item.init}}</div>
      <div class="item-equipped">
        <a
          class="item-control item-equip"
          {{#if item.system.isEquipped.value}}
          data-tooltip="{{localize "FU.UnequipItem"}}"
          {{else}}
          data-tooltip="{{localize "FU.EquipItem"}}"
          {{/if}}
          data-slot="{{item.system.isEquipped.slot}}"
        >
          {{#if item.system.isEquipped.value}}
            {{#if (eq item.system.isEquipped.slot "mainHand")}}
            <i class="fas fa-sword"></i>
            {{else if (eq item.system.isEquipped.slot "offHand")}}
            <i class="fa fa-shield" aria-hidden="true"></i>
            {{else}}
            <i class="fas fa-toolbox"></i>
            {{/if}}
          {{else}}
          <i class="far fa-toolbox"></i>
          {{/if}}
        </a>
      </div>
      <div class="item-controls">
        <a class="item-control item-favored"
          {{#if item.system.isFavored.value}}
            data-tooltip="{{localize 'FU.Unfavorite'}}"
          {{else}}
            data-tooltip="{{localize 'FU.Favorite'}}"
          {{/if}}
        >
          {{#if item.system.isFavored.value}}
            <i class="fas fa-star"></i>
          {{else}}
            <i class="far fa-star"></i>
          {{/if}}
        </a>
        <a class="item-control item-edit" data-tooltip="{{localize 'FU.ShieldEdit'}}">
          <i class="fas fa-edit"></i>
        </a>
        <a class="item-control item-delete" data-tooltip="{{localize 'FU.ShieldDelete'}}">
          <i class="fas fa-trash"></i>
        </a>
      </div>      
    </div>
    <div>{{ item.quality }}</div>
  </li>
  {{/each}}
</ol>

<div class="header-container">
  <header class="items-main">{{localize "FU.Armor"}}</header>
  <header class="items-main armor-hand slot-style rollable align-right auto-shrink" data-roll-type="item-slot">
    {{#each armor as |item id|}}
      {{#if (and item.system.isEquipped.value (eq item.system.isEquipped.slot "armor"))}}
        <div class="equipped-item">
          <i class="fas fa-shirt"></i> 
          {{item.name}}
        </div>
      {{/if}}
    {{/each}}
  </header>
</div>

<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">{{localize "FU.Name"}}</div>
    <div class="item-def">{{localize "FU.DefenseAbbr"}}</div>
    <div class="item-mdef">{{localize "FU.MagicDefenseAbbr"}}</div>
    <div class="item-init">{{localize "FU.InitiativeAbbr"}}</div>
    <div class="item-equipped">{{localize "FU.EquipStatus"}}</div>
    <div class="item-controls">
      <a class="item-control item-create" data-tooltip="Create Armor" data-type="armor"
        ><i class="fas fa-plus"></i>{{localize "FU.Add"}}</a
      >
    </div>
  </li>
  {{#each armor as |item id|}}
  <li class="item" data-item-id="{{item._id}}">
    <div class="flexrow">
      <div class="item-name">
        <div class="item-image">
          <a class="rollable" data-roll-type="item">
            <div class="item-image-wrap">
              <img
                src="{{item.img}}"
                data-tooltip="{{item.name}}"
                class="item-image-res"
              />
            </div>
          </a>
        </div>
        <h4>
          {{item.name}} {{#if item.isMartial}}
          <span class="is-martial">✦</span>
          {{/if}}
        </h4>
      </div>
      <div class="item-def">{{item.def}}</div>
      <div class="item-mdef">{{item.mdef}}</div>
      <div class="item-init">{{item.init}}</div>
      <div class="item-equipped">
        <a
          class="item-control item-equip"
          {{#if item.equipped}}
          data-tooltip="{{localize "FU.UnequipItem"}}"
          {{else}}
          data-tooltip="{{localize "FU.EquipItem"}}"
          {{/if}}
        >
          {{#if item.equipped}}
          <i class="fas fa-shirt"></i>
          {{else}}
          <i class="far fa-shirt"></i>
          {{/if}}
        </a>
      </div>
      <div class="item-controls">
        <a class="item-control item-favored"
          {{#if item.system.isFavored.value}}
            data-tooltip="{{localize 'FU.Unfavorite'}}"
          {{else}}
            data-tooltip="{{localize 'FU.Favorite'}}"
          {{/if}}
        >
          {{#if item.system.isFavored.value}}
            <i class="fas fa-star"></i>
          {{else}}
            <i class="far fa-star"></i>
          {{/if}}
        </a>
        <a class="item-control item-edit" data-tooltip="{{localize 'FU.ArmorEdit'}}">
          <i class="fas fa-edit"></i>
        </a>
        <a class="item-control item-delete" data-tooltip="{{localize 'FU.ArmorDelete'}}">
          <i class="fas fa-trash"></i>
        </a>
      </div>      
    </div>
    <div>{{ item.quality }}</div>
  </li>
  {{/each}}
</ol>

<div class="header-container">
  <header class="items-main">{{localize "FU.Accessories"}}</header>

  <!-- This will accept left click accessory -->
  <header class="items-main acc-hand slot-style rollable align-right auto-shrink" data-roll-type="item-slot">
    {{#each accessories as |item id|}}
      {{#if (and item.system.isEquipped.value (eq item.system.isEquipped.slot "accessory"))}}
        <div class="equipped-item">
          <i class="fas fa-shirt"></i> 
          {{item.name}}
        </div>
      {{/if}}
    {{/each}}
  </header>

</div>


<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">{{localize "FU.Name"}}</div>
    <div class="item-def">{{localize "FU.DefenseAbbr"}}</div>
    <div class="item-mdef">{{localize "FU.MagicDefenseAbbr"}}</div>
    <div class="item-init">{{localize "FU.InitiativeAbbr"}}</div>
    <div class="item-equipped">{{localize "FU.EquipStatus"}}</div>
    <div class="item-controls">
      <a class="item-control item-create" data-tooltip="Create Accessory" data-type="accessory"
        ><i class="fas fa-plus"></i>{{localize "FU.Add"}}</a
      >
    </div>
  </li>
  {{#each accessories as |item id|}}
  <li class="item" data-item-id="{{item._id}}">
    <div class="flexrow">
      <div class="item-name">
        <div class="item-image">
          <a class="rollable" data-roll-type="item">
            <div class="item-image-wrap">
              <img
                src="{{item.img}}"
                data-tooltip="{{item.name}}"
                class="item-image-res"
              />
            </div>
          </a>
        </div>
        <h4>
          {{item.name}}
        </h4>
      </div>
      <div class="item-def">{{item.def}}</div>
      <div class="item-mdef">{{item.mdef}}</div>
      <div class="item-init">{{item.init}}</div>
      <div class="item-equipped">
        <a
          class="item-control item-equip"
          {{#if item.equipped}}
          data-tooltip="{{localize 'FU.UnEquipItem'}}"
          {{else}}
          data-tooltip="{{localize 'FU.EquipItem'}}"
          {{/if}}
        >
          {{#if item.equipped}}
          <i class="fas fa-shirt"></i>
          {{else}}
          <i class="far fa-shirt"></i>
          {{/if}}
        </a>
      </div>
      <div class="item-controls">
        <a class="item-control item-favored"
          {{#if item.system.isFavored.value}}
            data-tooltip="{{localize 'FU.Unfavorite'}}"
          {{else}}
            data-tooltip="{{localize 'FU.Favorite'}}"
          {{/if}}
        >
          {{#if item.system.isFavored.value}}
            <i class="fas fa-star"></i>
          {{else}}
            <i class="far fa-star"></i>
          {{/if}}
        </a>
        <a class="item-control item-edit" data-tooltip="Edit class">
          <i class="fas fa-edit"></i>
        </a>
        <a class="item-control item-delete" data-tooltip="Delete class">
          <i class="fas fa-trash"></i>
        </a>
      </div>      
    </div>
    <div>{{ item.quality }}</div>
  </li>
  {{/each}}
</ol>

<header class="items-main">{{localize "FU.Consumable"}}</header>
<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">{{localize "FU.Name"}}</div>
    <div class="item-ip-cost">IP Cost</div>
    <div class="item-controls">
      <a class="item-control item-create" data-tooltip="{{localize 'FU.ConsumableCreate'}}" data-type="consumable"
        ><i class="fas fa-plus"></i>{{localize "FU.Add"}}</a
      >
    </div>
  </li>
  {{#each consumables as |item id|}}
  <li class="item" data-item-id="{{item._id}}">
    <div class="flexrow">
      <div class="item-name">
        <div class="item-image">
          <a class="rollable" data-roll-type="item">
            <div class="item-image-wrap">
              <img
                src="{{item.img}}"
                data-tooltip="{{item.name}}"
                class="item-image-res"
              />
            </div>
          </a>
        </div>
        <h4>
          {{item.name}}
        </h4>
      </div>
      <div class="item-ip-cost">{{item.system.ipCost.value}}</div>
      <div class="item-controls">
        <a class="item-control item-favored"
          {{#if item.system.isFavored.value}}
            data-tooltip="{{localize 'FU.Unfavorite'}}"
          {{else}}
            data-tooltip="{{localize 'FU.Favorite'}}"
          {{/if}}
        >
          {{#if item.system.isFavored.value}}
            <i class="fas fa-star"></i>
          {{else}}
            <i class="far fa-star"></i>
          {{/if}}
        </a>
        <a class="item-control item-edit" data-tooltip="Edit class">
          <i class="fas fa-edit"></i>
        </a>
        <a class="item-control item-delete" data-tooltip="Delete class">
          <i class="fas fa-trash"></i>
        </a>
      </div>      
    </div>
    <div>{{{ item.system.description }}}</div>
  </li>
  {{/each}}
</ol>